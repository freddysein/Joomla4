function akeebaAjaxConnector(a){this.url=a,this.error_callback=this.dummy_error_handler,this.call=function(a,b,c,d,e,f){if(null==d&&(d=!1),null==f&&(f=!1),null==e&&(f?e=6e5:e=1e4),!d){var g=new Date().getTime()/1e3,h=parseInt(g,10),i=Math.round(1e3*(g-h))/1e3;a._dontcachethis=i}null==this.url&&(this.url="index.php");var j={type:"POST",url:this.url,cache:!1,data:a,timeout:6e5,success:function success(a){var d=null,e="";if(f){var g=a.indexOf("###");if(-1==g)return a="Invalid response: "+a,void(null==c?null!=this.error_callback&&this.error_callback(a):c(a));0==g?e=a:(d=a.substr(0,g),e=a.substr(g)),e=e.substr(3);var g=e.lastIndexOf("###");e=e.substr(0,g);try{var h=JSON.parse(e)}catch(b){var a=b.message+"\n<br/>\n<pre>\n"+e+"\n</pre>";return void(null==c?null!=this.error_callback&&this.error_callback(a):c(a))}}else var h=a;b(h)},error:function error(a,b){var d="<strong>HTTP Request Error</strong><br/>HTTP Status: "+a.status+" ("+a.statusText+")<br/>";d=d+"Internal status: "+b+"<br/>",d=d+"XHR ReadyState: "+a.readyState+"<br/>",d=d+"Raw server response:<br/>"+a.responseText,null==c?null!=this.error_callback&&this.error_callback(d):c(d)}};$.ajax(j)},this.callJSON=function(a,b,c,d,e){this.call(a,b,c,d,e,!0)},this.callRaw=function(a,b,c,d,e){this.call(a,b,c,d,e,!1)},this.dummy_error_handler=function(a){alert("An error has occured\n"+a)}}

//# sourceMappingURL=ajax.min.js.map